steps:
    - {type: configureHandler, name: async, retryDelay: 0 }

    # Consume one set of rows from the csv, the amount here is 1, but the consumer is set to read 3 lines
    - {type: consume, uri: csv://test/consumer/read, amount: 1 }

    # Test that we returned 3 lines as expected from the csv
    -
        type: checkSpyArray
        path: csv/read_file
        values:
            lines:
                - ['a1', 'b1', 'c1' ]
                - ['a2', 'b2', 'c2' ]
                - ['a3', 'b3', 'c3' ]
